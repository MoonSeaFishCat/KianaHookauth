# ğŸ›¡ï¸ è®¾å¤‡æˆæƒç³»ç»Ÿ

ä¸€ä¸ªåŸºäº Next.js çš„ç°ä»£åŒ–è®¾å¤‡æˆæƒç®¡ç†ç³»ç»Ÿï¼Œæä¾›å®‰å…¨å¯é çš„è®¾å¤‡éªŒè¯ã€æ¢ç»‘å’Œç®¡ç†åŠŸèƒ½ã€‚

[![Next.js](https://img.shields.io/badge/Next.js-15.2.4-black?logo=next.js)](https://nextjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.0-blue?logo=typescript)](https://www.typescriptlang.org/)
[![MySQL](https://img.shields.io/badge/MySQL-8.0-orange?logo=mysql)](https://www.mysql.com/)
[![Tailwind CSS](https://img.shields.io/badge/Tailwind_CSS-3.4-38B2AC?logo=tailwind-css)](https://tailwindcss.com/)

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ğŸ” è®¾å¤‡è®¤è¯ç³»ç»Ÿ
- **å®‰å…¨ç­¾åéªŒè¯**: åŸºäº SHA-256 çš„è®¾å¤‡ç ç­¾åæœºåˆ¶
- **æ—¶é—´çª—å£å®¹é”™**: 10ç§’æ—¶é—´çª—å£ï¼Œè§£å†³å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨æ—¶é—´å·®å¼‚
- **çµæ´»æˆæƒæ¨¡å¼**: æ”¯æŒæ°¸ä¹…æˆæƒå’Œä¸´æ—¶æˆæƒä¸¤ç§æ¨¡å¼
- **é»‘åå•ç®¡ç†**: å®æ—¶æ‹‰é»‘æ¶æ„è®¾å¤‡ï¼Œä¿æŠ¤ç³»ç»Ÿå®‰å…¨
- **IPåœ°å€è®°å½•**: å®Œæ•´çš„è®¿é—®æ—¥å¿—å’Œå®‰å…¨å®¡è®¡

### ğŸ“§ è®¾å¤‡æ¢ç»‘ç³»ç»Ÿ
- **é‚®ç®±éªŒè¯**: åŸºäºé‚®ç®±éªŒè¯ç çš„å®‰å…¨æ¢ç»‘æµç¨‹
- **æ“ä½œè®°å½•**: å®Œæ•´çš„æ¢ç»‘å†å²è¿½è¸ª
- **é˜²é‡å¤æ¢ç»‘**: æ™ºèƒ½æ£€æµ‹å’Œé˜²æ­¢é¢‘ç¹æ¢ç»‘æ“ä½œ
- **å¤šé‡éªŒè¯**: è®¾å¤‡ç ã€é‚®ç®±ã€éªŒè¯ç ä¸‰é‡éªŒè¯æœºåˆ¶

### ğŸ‘¨â€ğŸ’¼ ç®¡ç†åå°
- **è®¾å¤‡ç®¡ç†**: æ‰¹é‡æ·»åŠ ã€ç¼–è¾‘ã€åˆ é™¤è®¾å¤‡æˆæƒ
- **å®æ—¶ç›‘æ§**: è®¾å¤‡çŠ¶æ€ã€éªŒè¯æ—¥å¿—å®æ—¶æŸ¥çœ‹
- **ç³»ç»Ÿé…ç½®**: çµæ´»çš„ç³»ç»Ÿå‚æ•°å’Œé‚®ä»¶æœåŠ¡é…ç½®
- **ç­¾åå·¥å…·**: å†…ç½®è®¾å¤‡ç­¾åç”Ÿæˆå’ŒéªŒè¯å·¥å…·
- **æ‰¹é‡æ“ä½œ**: æ”¯æŒæ‰¹é‡åˆ é™¤æ—¥å¿—å’Œå†å²è®°å½•

### ğŸ“Š æ•°æ®åˆ†æ
- **å®æ—¶ä»ªè¡¨ç›˜**: è®¾å¤‡ç»Ÿè®¡ã€éªŒè¯æˆåŠŸç‡ã€æ´»è·ƒåº¦åˆ†æ
- **å›¾è¡¨å±•ç¤º**: ç›´è§‚çš„æ•°æ®å¯è§†åŒ–ç•Œé¢
- **è¶‹åŠ¿åˆ†æ**: è®¾å¤‡ä½¿ç”¨è¶‹åŠ¿å’Œå¼‚å¸¸æ£€æµ‹
- **å¯¼å‡ºåŠŸèƒ½**: æ”¯æŒæ•°æ®å¯¼å‡ºå’ŒæŠ¥è¡¨ç”Ÿæˆ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ“‹ ç¯å¢ƒè¦æ±‚
- **Node.js**: 18.0+ (æ¨è LTS ç‰ˆæœ¬)
- **æ•°æ®åº“**: MySQL 5.7+ æˆ– MySQL 8.0+
- **åŒ…ç®¡ç†å™¨**: pnpm (æ¨è) æˆ– npm
- **æ“ä½œç³»ç»Ÿ**: Windows 10+, macOS 10.15+, Ubuntu 18.04+

### âš¡ ä¸€é”®å®‰è£…

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/your-username/device-auth-system.git
cd device-auth-system

# 2. å®‰è£…ä¾èµ–
pnpm install

# 3. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œé…ç½®æ•°æ®åº“è¿æ¥å’Œé‚®ä»¶æœåŠ¡

# 4. åˆå§‹åŒ–æ•°æ®åº“
mysql -u root -p < scripts/init-mysql-database.sql

# 5. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev
```

### ğŸŒ è®¿é—®åœ°å€
- **å‰å°é¡µé¢**: http://localhost:3000
- **ç®¡ç†åå°**: http://localhost:3000/admin
- **API æ¥å£**: http://localhost:3000/api

### ğŸ”‘ é»˜è®¤è´¦å·
- **ç®¡ç†å‘˜ç”¨æˆ·å**: `admin`
- **ç®¡ç†å‘˜å¯†ç **: `admin123`

> âš ï¸ **å®‰å…¨æé†’**: ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²åè¯·ç«‹å³ä¿®æ”¹é»˜è®¤å¯†ç ï¼

## ğŸ“– è¯¦ç»†æ–‡æ¡£

| æ–‡æ¡£ç±»å‹ | é“¾æ¥ | æè¿° |
|---------|------|------|
| ğŸ“š å®‰è£…æŒ‡å— | [SETUP.md](./SETUP.md) | è¯¦ç»†çš„å®‰è£…å’Œé…ç½®æ­¥éª¤ |
| ğŸ”Œ API æ–‡æ¡£ | [docs/API.md](./docs/API.md) | å®Œæ•´çš„ API æ¥å£æ–‡æ¡£ |
| ğŸ” ç­¾åæœºåˆ¶ | [docs/DEVICE-SIGNATURE.md](./docs/DEVICE-SIGNATURE.md) | è®¾å¤‡ç­¾åç®—æ³•è¯´æ˜ |
| ğŸ“ æ›´æ–°æ—¥å¿— | [CHANGELOG.md](./CHANGELOG.md) | ç‰ˆæœ¬æ›´æ–°è®°å½• |
| ğŸ§ª åŠŸèƒ½æµ‹è¯• | [test-functionality.md](./test-functionality.md) | åŠŸèƒ½æµ‹è¯•æŒ‡å— |

## âš™ï¸ é…ç½®è¯´æ˜

### ğŸ”§ ç¯å¢ƒå˜é‡é…ç½®

åˆ›å»º `.env` æ–‡ä»¶å¹¶é…ç½®ä»¥ä¸‹å‚æ•°ï¼š

```bash
# æ•°æ®åº“é…ç½® (å¿…éœ€)
DATABASE_URL=mysql://username:password@host:port/database

# ç³»ç»Ÿå¯†é’¥ (å¿…éœ€ - ç”¨äºè®¾å¤‡ç­¾å)
SECRET_KEY=your-super-secret-key-change-this-in-production

# JWT å¯†é’¥ (å¿…éœ€ - ç”¨äºç®¡ç†å‘˜è®¤è¯)
JWT_SECRET=your-jwt-secret-key-change-this-in-production

# é‚®ä»¶æœåŠ¡é…ç½® (æ¢ç»‘åŠŸèƒ½å¿…éœ€)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=noreply@example.com
SMTP_PASSWORD=your-email-password
SMTP_FROM_EMAIL=noreply@example.com
SMTP_FROM_NAME=è®¾å¤‡æˆæƒç³»ç»Ÿ

# åº”ç”¨é…ç½® (å¯é€‰)
NODE_ENV=production
PORT=3000
NEXTAUTH_URL=https://your-domain.com
```

### ğŸ—„ï¸ æ•°æ®åº“é…ç½®

æ”¯æŒä¸¤ç§é…ç½®æ–¹å¼ï¼š

**æ–¹å¼ä¸€ï¼šç¯å¢ƒå˜é‡ (æ¨è)**
```bash
DATABASE_URL=mysql://user:password@host:port/database
```

**æ–¹å¼äºŒï¼šé…ç½®æ–‡ä»¶**
```javascript
// database.config.js
module.exports = {
  development: {
    host: 'localhost',
    port: 3306,
    user: 'root',
    password: 'password',
    database: 'device_auth_system'
  }
}
```

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: Next.js 15.2.4 (App Router)
- **è¯­è¨€**: TypeScript 5.0+
- **UI åº“**: React 19 + Radix UI
- **æ ·å¼**: Tailwind CSS 3.4
- **çŠ¶æ€ç®¡ç†**: React Hooks
- **å›¾æ ‡**: Lucide React
- **é€šçŸ¥**: SweetAlert2

### åç«¯æŠ€æœ¯æ ˆ
- **API**: Next.js API Routes
- **æ•°æ®åº“**: MySQL 8.0 + mysql2
- **è®¤è¯**: JWT + Cookie Session
- **åŠ å¯†**: Node.js Crypto (SHA-256)
- **é‚®ä»¶**: Nodemailer
- **éªŒè¯**: Zod

### å¼€å‘å·¥å…·
- **åŒ…ç®¡ç†**: pnpm
- **ä»£ç è§„èŒƒ**: ESLint + Prettier
- **ç±»å‹æ£€æŸ¥**: TypeScript
- **æ„å»ºå·¥å…·**: Next.js + Turbopack

## ğŸ“ é¡¹ç›®ç»“æ„

```
device-auth-system/
â”œâ”€â”€ ğŸ“ app/                     # Next.js åº”ç”¨ç›®å½• (App Router)
â”‚   â”œâ”€â”€ ğŸ“ admin/              # ç®¡ç†åå°é¡µé¢
â”‚   â”‚   â”œâ”€â”€ page.tsx           # ä»ªè¡¨ç›˜é¡µé¢
â”‚   â”‚   â””â”€â”€ login/             # ç™»å½•é¡µé¢
â”‚   â”œâ”€â”€ ğŸ“ api/                # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ auth/              # è®¤è¯ç›¸å…³ API
â”‚   â”‚   â”œâ”€â”€ admin/             # ç®¡ç†å‘˜ API
â”‚   â”‚   â””â”€â”€ system/            # ç³»ç»Ÿä¿¡æ¯ API
â”‚   â”œâ”€â”€ globals.css            # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ layout.tsx             # æ ¹å¸ƒå±€
â”‚   â””â”€â”€ page.tsx               # é¦–é¡µ
â”œâ”€â”€ ğŸ“ components/             # React ç»„ä»¶
â”‚   â”œâ”€â”€ ğŸ“ admin/              # ç®¡ç†åå°ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ device-management.tsx
â”‚   â”‚   â”œâ”€â”€ verification-logs.tsx
â”‚   â”‚   â”œâ”€â”€ system-settings.tsx
â”‚   â”‚   â””â”€â”€ rebind-history.tsx
â”‚   â””â”€â”€ ğŸ“ ui/                 # åŸºç¡€ UI ç»„ä»¶
â”œâ”€â”€ ğŸ“ lib/                    # æ ¸å¿ƒå·¥å…·åº“
â”‚   â”œâ”€â”€ database.ts            # æ•°æ®åº“æ“ä½œå±‚
â”‚   â”œâ”€â”€ crypto.ts              # åŠ å¯†å’Œç­¾åå·¥å…·
â”‚   â”œâ”€â”€ email-codes.ts         # é‚®ä»¶éªŒè¯ç 
â”‚   â”œâ”€â”€ db-config.ts           # æ•°æ®åº“é…ç½®
â”‚   â””â”€â”€ utils.ts               # é€šç”¨å·¥å…·å‡½æ•°
â”œâ”€â”€ ğŸ“ hooks/                  # React Hooks
â”œâ”€â”€ ğŸ“ docs/                   # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ ğŸ“ scripts/                # æ•°æ®åº“è„šæœ¬å’Œå·¥å…·
â”œâ”€â”€ ğŸ“ tools/                  # å¼€å‘å·¥å…·
â””â”€â”€ ğŸ“ public/                 # é™æ€èµ„æº
```

## ğŸ”’ å®‰å…¨ç‰¹æ€§

### ğŸ›¡ï¸ å¤šå±‚å®‰å…¨é˜²æŠ¤
- **è®¾å¤‡ç­¾åéªŒè¯**: åŸºäº SHA-256 çš„è®¾å¤‡ç ç­¾åæœºåˆ¶
- **æ—¶é—´çª—å£é˜²æŠ¤**: 10ç§’æ—¶é—´çª—å£é˜²æ­¢é‡æ”¾æ”»å‡»
- **IP åœ°å€è¿½è¸ª**: å®Œæ•´è®°å½•è®¿é—®æ¥æºå’Œç”¨æˆ·ä»£ç†
- **æ“ä½œæ—¥å¿—å®¡è®¡**: æ‰€æœ‰å…³é”®æ“ä½œçš„å®Œæ•´æ—¥å¿—è®°å½•
- **é»‘åå•æœºåˆ¶**: å®æ—¶æ‹‰é»‘æ¶æ„è®¾å¤‡å’ŒIP

### ğŸ” è®¤è¯ä¸æˆæƒ
- **JWT ä»¤ç‰Œ**: å®‰å…¨çš„ç®¡ç†å‘˜ä¼šè¯ç®¡ç†
- **å¯†ç å“ˆå¸Œ**: bcrypt åŠ å¯†å­˜å‚¨ç®¡ç†å‘˜å¯†ç 
- **ä¼šè¯è¶…æ—¶**: è‡ªåŠ¨è¿‡æœŸçš„å®‰å…¨ä¼šè¯æœºåˆ¶
- **æƒé™æ§åˆ¶**: åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶

### ğŸ“§ é€šä¿¡å®‰å…¨
- **é‚®ä»¶éªŒè¯**: åŸºäºé‚®ç®±éªŒè¯ç çš„å®‰å…¨æ¢ç»‘
- **SMTP åŠ å¯†**: æ”¯æŒ TLS/SSL é‚®ä»¶ä¼ è¾“åŠ å¯†
- **é˜²æš´åŠ›ç ´è§£**: éªŒè¯ç æœ‰æ•ˆæœŸå’Œé‡è¯•é™åˆ¶

## ğŸš€ éƒ¨ç½²æŒ‡å—

### ğŸŒ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

```bash
# 1. æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm build

# 2. å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
pnpm start

# 3. ä½¿ç”¨ PM2 è¿›ç¨‹ç®¡ç† (æ¨è)
npm install -g pm2
pm2 start npm --name "device-auth-system" -- start
pm2 save
pm2 startup
```

### ğŸ³ Docker éƒ¨ç½²

**å•å®¹å™¨éƒ¨ç½²**
```bash
# æ„å»ºé•œåƒ
docker build -t device-auth-system .

# è¿è¡Œå®¹å™¨
docker run -d \
  --name device-auth-system \
  -p 3000:3000 \
  --env-file .env \
  device-auth-system
```

**Docker Compose éƒ¨ç½²**
```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡ (åŒ…æ‹¬ MySQL)
docker-compose up -d

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f
```

### â˜ï¸ äº‘å¹³å°éƒ¨ç½²

**Vercel éƒ¨ç½²**
```bash
# å®‰è£… Vercel CLI
npm install -g vercel

# éƒ¨ç½²åˆ° Vercel
vercel --prod
```

**Railway éƒ¨ç½²**
```bash
# è¿æ¥ GitHub ä»“åº“åˆ° Railway
# é…ç½®ç¯å¢ƒå˜é‡
# è‡ªåŠ¨éƒ¨ç½²
```

## ğŸ”§ å¼€å‘æŒ‡å—

### ğŸ› ï¸ æœ¬åœ°å¼€å‘

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-username/device-auth-system.git
cd device-auth-system

# å®‰è£…ä¾èµ–
pnpm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev

# è¿è¡Œç±»å‹æ£€æŸ¥
pnpm type-check

# è¿è¡Œä»£ç æ£€æŸ¥
pnpm lint

# æ ¼å¼åŒ–ä»£ç 
pnpm format
```

### ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œå•å…ƒæµ‹è¯•
pnpm test

# è¿è¡Œé›†æˆæµ‹è¯•
pnpm test:integration

# ç”Ÿæˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
pnpm test:coverage
```

### ğŸ“¦ æ„å»º

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm build

# åˆ†ææ„å»ºåŒ…å¤§å°
pnpm analyze

# å¯¼å‡ºé™æ€æ–‡ä»¶
pnpm export
```

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**1. æ•°æ®åº“è¿æ¥å¤±è´¥**
```bash
# æ£€æŸ¥æ•°æ®åº“æœåŠ¡çŠ¶æ€
systemctl status mysql

# æ£€æŸ¥è¿æ¥é…ç½®
mysql -u username -p -h host -P port database_name
```

**2. é‚®ä»¶å‘é€å¤±è´¥**
- æ£€æŸ¥ SMTP é…ç½®æ˜¯å¦æ­£ç¡®
- éªŒè¯é‚®ç®±å¯†ç æˆ–åº”ç”¨ä¸“ç”¨å¯†ç 
- ç¡®è®¤é˜²ç«å¢™è®¾ç½®

**3. ç­¾åéªŒè¯å¤±è´¥**
- æ£€æŸ¥ç³»ç»Ÿæ—¶é—´æ˜¯å¦åŒæ­¥
- éªŒè¯ SECRET_KEY é…ç½®
- æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—

### ğŸ” è°ƒè¯•æ¨¡å¼

```bash
# å¯ç”¨è°ƒè¯•æ—¥å¿—
DEBUG=* pnpm dev

# æŸ¥çœ‹æ•°æ®åº“æŸ¥è¯¢æ—¥å¿—
DEBUG=mysql:* pnpm dev
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼

### ğŸ“ æäº¤ Issue
- ä½¿ç”¨æ¸…æ™°çš„æ ‡é¢˜æè¿°é—®é¢˜
- æä¾›è¯¦ç»†çš„é‡ç°æ­¥éª¤
- åŒ…å«é”™è¯¯æ—¥å¿—å’Œæˆªå›¾
- è¯´æ˜æ‚¨çš„ç¯å¢ƒä¿¡æ¯

### ğŸ”€ æäº¤ Pull Request
1. Fork é¡¹ç›®åˆ°æ‚¨çš„ GitHub
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. åˆ›å»º Pull Request

### ğŸ“‹ ä»£ç è§„èŒƒ
- éµå¾ª ESLint å’Œ Prettier é…ç½®
- ç¼–å†™æ¸…æ™°çš„æäº¤ä¿¡æ¯
- æ·»åŠ å¿…è¦çš„æµ‹è¯•ç”¨ä¾‹
- æ›´æ–°ç›¸å…³æ–‡æ¡£

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](./LICENSE) è®¸å¯è¯ã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®ï¼š
- [Next.js](https://nextjs.org/) - React å…¨æ ˆæ¡†æ¶
- [Tailwind CSS](https://tailwindcss.com/) - CSS æ¡†æ¶
- [Radix UI](https://www.radix-ui.com/) - æ— éšœç¢ UI ç»„ä»¶
- [MySQL](https://www.mysql.com/) - å…³ç³»å‹æ•°æ®åº“
- [TypeScript](https://www.typescriptlang.org/) - ç±»å‹å®‰å…¨çš„ JavaScript

## ğŸ“ æ”¯æŒä¸è”ç³»

- ğŸ“š **æ–‡æ¡£**: [æŸ¥çœ‹å®Œæ•´æ–‡æ¡£](./docs/README.md)
- ğŸ› **Bug æŠ¥å‘Š**: [æäº¤ Issue](https://github.com/your-username/device-auth-system/issues)
- ğŸ’¡ **åŠŸèƒ½å»ºè®®**: [åŠŸèƒ½è¯·æ±‚](https://github.com/your-username/device-auth-system/issues/new?template=feature_request.md)
- ğŸ’¬ **è®¨è®º**: [GitHub Discussions](https://github.com/your-username/device-auth-system/discussions)

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼**

Made with â¤ï¸ by [Your Name](https://github.com/your-username)

</div>
